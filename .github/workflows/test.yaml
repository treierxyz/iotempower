name: Testing

on: push

env:
  TERM: linux

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install iotempower
        run: bash run x bin/iot_install --default
      - name: Test installation
        run: iot x pytest -s -v tests/test_installations.py
      - name: Test compilation
        run: iot x pytest -s -v tests/test_compilation.py
